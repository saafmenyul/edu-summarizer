# Архитектура проекта

## Обзор

Проект состоит из нескольких основных модулей, каждый из которых отвечает за определенную функциональность.

## Структура модулей

### src/summarizer.py

Основной модуль резюмирования. Содержит класс `Summarizer`, который:

- Определяет язык текста
- Загружает соответствующие модели transformers
- Выполняет абстрактивное резюмирование
- Извлекает ключевые моменты

**Модели по языкам:**
- English: `facebook/bart-large-cnn`
- Russian: `IlyaGusev/rut5_base_sum_gazeta`
- German: `facebook/mbart-large-50-many-to-many-mmt`

**Fallback механизм:**
Если модели transformers недоступны, используется простой метод извлечения предложений.

### src/file_processor.py

Модуль обработки файлов. Поддерживает:

- Текстовые файлы (.txt)
- Документы Word (.docx)
- PDF файлы (.pdf)

Автоматически определяет тип файла по расширению.

### src/cli.py

Командный интерфейс на основе Click. Предоставляет удобный CLI для использования инструмента.

### src/main.py

Точка входа в приложение.

## Поток данных

```
Входной файл
    ↓
FileProcessor.read_file()
    ↓
Текст
    ↓
Summarizer.detect_language() (если auto)
    ↓
Summarizer.summarize()
    ↓
    ├─ Загрузка модели (если нужно)
    ├─ Резюмирование через transformers
    └─ Fallback на простой метод (если нужно)
    ↓
Резюмированный текст + язык
    ↓
Вывод (файл или консоль)
```

## Тестирование

### Структура тестов

- `test_summarizer.py`: Юнит-тесты для класса Summarizer
- `test_file_processor.py`: Тесты для обработки файлов
- `test_integration.py`: Интеграционные тесты полного workflow

### CI/CD

GitHub Actions выполняет:

1. Тестирование на Python 3.8, 3.9, 3.10, 3.11
2. Тестирование с разными языками
3. Проверку качества кода (linting)

## Зависимости

### Основные

- `transformers`: Модели для резюмирования
- `torch`: Backend для transformers
- `langdetect`: Определение языка
- `click`: CLI интерфейс

### Опциональные

- `python-docx`: Поддержка DOCX
- `PyPDF2`: Поддержка PDF

## Расширяемость

Проект легко расширяется:

1. **Новые языки**: Добавьте модель в `Summarizer.MODELS`
2. **Новые форматы**: Добавьте метод в `FileProcessor`
3. **Новые методы резюмирования**: Расширьте класс `Summarizer`

